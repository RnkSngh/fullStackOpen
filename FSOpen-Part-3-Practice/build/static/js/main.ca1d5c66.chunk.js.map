{"version":3,"sources":["components/PhoneForm.js","components/DeleteContact.js","services/persons.js","components/Contact.js","components/ContactList.js","components/Notification.js","App.js","index.js"],"names":["PhoneForm","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","onChange","type","DeleteContact","deleteReq","onClick","baseUrl","axios","get","then","response","data","personObj","post","id","delete","Contact","person","afterDelete","handleError","name","number","window","confirm","personServices","catch","error","ContactList","persons","handleDelete","map","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","useEffect","checkName","filter","length","alert","event","preventDefault","addedPerson","concat","target","msg","console","log","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca1d5c66.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PhoneForm = ({handleSubmit, handleNameChange, handleNumberChange, newName, newNumber})=>{\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/>\r\n          number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n)};\r\n\r\nexport default PhoneForm","import React, { Component, Fragment, useState } from 'react'\r\n\r\nconst DeleteContact = ({deleteReq})=>{\r\n    return (\r\n        <button onClick={deleteReq}> Delete </button>\r\n)};\r\n\r\nexport default DeleteContact","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = ()=>{\r\n    return (\r\n        axios.get(baseUrl)\r\n        .then( response => response.data)\r\n)};\r\n\r\nconst getPerson = (id) => {\r\n    return (axios.get(`${baseUrl}/${id}`))\r\n    .then( response => {\r\n        return response.data})\r\n}\r\n\r\nconst addPerson = (personObj)=>{\r\n    return (\r\n        axios.post(baseUrl, personObj)\r\n        .then( response => response.data)\r\n)};\r\n\r\nconst deletePerson = (id)=>{\r\n    return (\r\n        axios.delete(`${baseUrl}/${id}`)\r\n        .then(response => {\r\n            return response.data}\r\n        )\r\n)};\r\nexport default {getAll, getPerson, addPerson, deletePerson}","import React from 'react'\r\nimport DeleteContact from './DeleteContact';\r\nimport personServices from \"../services/persons\"\r\n\r\nconst Contact = ({person, afterDelete, handleError})=>{\r\n    const deleteReq = (id) =>{\r\n        if(window.confirm(`Delete ${person.name} ? `)){\r\n            return personServices.deletePerson(id)\r\n            .then( () => {\r\n                afterDelete(person.id)\r\n            })\r\n        \r\n            .catch( (error) => {\r\n                handleError(`${person.name} was not found`)\r\n                afterDelete(id)\r\n            })\r\n        }\r\n    };\r\n\r\n    return (\r\n        <h3> {person.name} : {person.number} <DeleteContact deleteReq={ () => deleteReq(person.id)}/> </h3>\r\n)};\r\n\r\nexport default Contact","import React from 'react'\r\nimport Contact from './Contact';\r\n\r\nconst ContactList = ({persons, handleDelete, handleError})=>{\r\n    return (\r\n        persons.map((person) =>\r\n            <Contact key={person.name} person={person} afterDelete={handleDelete} handleError={handleError}/>\r\n        )\r\n)};\r\n\r\nexport default ContactList","import React, { Component, Fragment, useState } from 'react'\r\n\r\nconst Notification = ({message})=>{\r\n        if (!message){\r\n            return null\r\n        }\r\n        return(\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n};\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PhoneForm from './components/PhoneForm'\nimport ContactList from './components/ContactList'\nimport axios from \"axios\"\nimport personServices from \"./services/persons\"\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([\n    { name: 'Arto Hellas', number:\"123123112\" }\n  ]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect( () => {\n    personServices.getAll()\n    .then( response =>\n      setPersons(response)\n    )\n  }, [])\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (checkName(newName)){\n      const newPerson = {name:newName, number: newNumber}\n      personServices.addPerson(newPerson)\n        .then(addedPerson =>{\n          setPersons(persons.concat(addedPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n        }\n      )\n    }\n  }\n\n  const handleNameChange = (event) =>{\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) =>{\n    setNewNumber(event.target.value)\n  }\n\n  const handleDelete = (id)=>{\n    return (\n      setPersons(persons.filter(\n        (person)=> person.id !== id\n      ))\n  )};\n\n  const handleErrorFunction = (msg)=>{\n    console.log(\"errorhandled\", msg);\n\n    setErrorMessage(msg)\n    \n    setTimeout( ()=> setErrorMessage(null), 5000\n    )\n  };\n\n  const checkName = (name) => {\n    const matchingName = persons.filter((person) =>\n      person.name===name\n    )\n    if(matchingName.length>0){\n      window.alert(`${newName} already in phonebook`);\n      return false\n    }\n    return true\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage}/>\n      <PhoneForm  \n      handleSubmit={handleSubmit}\n      handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}\n      newName={newName}\n      newNumber={newNumber}/>\n      <h2>Numbers</h2>\n      <ContactList persons={persons} handleDelete={handleDelete} handleError={handleErrorFunction}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport \"./index.css\"\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}